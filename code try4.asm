const pcr 64 
const joy 66 
CONST CT 69
CONST DIR 4 
CONST TEMP 0 
CONST DEL_TIME 255
CONST DEL1 1
CONST DEL2 2
CONST DEL3 3
L1: 
	cmp joy IMED 0 
	add joy IMED 0 DIR 
	NOP 
	BRF L1 Z 
	NOP
DEL.1C:
	CMP DIR IMED 7 
	NOP 
	BRF UP Z 
	CMP DIR IMED 6 
	NOP 
	BRF DOWN Z 
	CMP DIR IMED 5 
	NOP 
	BRF RIGHT Z 
	NOP 
	BRA LEFT 
	NOP 
UP: 	 
	SUB PCR IMED 16 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF UP2 Z
	CMP CT IMED 2
	NOP
	BRF POST Z
	NOP
	BRA DEL
	NOP 
UP2:
	ADD PCR IMED 16 PCR
	BRA POST
	NOP
DOWN:	
	ADD PCR IMED 16 PCR 
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF DOWN2 Z
	CMP CT IMED 2
	NOP
	BRF POST Z
	NOP
	BRA DEL 
	NOP 
DOWN2:
	SUB PCR IMED 16 PCR
	BRA POST
	NOP
LEFT:	
	SUB PCR IMED 1 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF LEFT2 Z
	CMP CT IMED 2
	NOP
	BRF POST Z
	NOP
	BRA DEL 
	NOP
LEFT2:
	ADD PCR IMED 1 PCR
	BRA POST
	NOP
RIGHT:
	ADD PCR IMED 1 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF RIGHT2 Z
	CMP CT IMED 2
	NOP
	BRF POST Z
	NOP
	BRA DEL
	NOP
RIGHT2:
	SUB PCR IMED 1 PCR
	BRA post
	NOP
POST:
	CMP JOY IMED 0 
	NOP 
	BRF L1 Z 
	NOP 
	BRA POST 
	NOP
DEL:
	MOVE DEL_TIME DEL1
DEL.1:
	MOVE DEL_TIME DEL2
DEL.2:
	MOVE DEL_TIME DEL3
DEL.3:	
	SUB DEL3 IMED 1
	NOP
	BRF DEL.3C Z
	NOP 
	BRA DEL.3
	NOP
DEL.3C:
	SUB DEL2 IMED 1
	NOP
	BRF DEL.2C
	NOP 
	BRA DEL.2
	NOP
DEL.2C: 
	SUB DEL1 IMED 1
	NOP 
	BRF DEL.1C
	NOP 
	BRA DEL.1
	NOP
