const pcr 64 
const joy 66 
CONST CT 69
CONST DIR 4 
CONST TEMP 0 
L1: 
	cmp joy IMED 0 
	add joy IMED 0 DIR 
	NOP 
	BRF L1 Z 
	NOP
	CMP DIR IMED 7 
	NOP 
	BRF UP Z 
	CMP DIR IMED 6 
	NOP 
	BRF DOWN Z 
	CMP DIR IMED 5 
	NOP 
	BRF RIGHT Z 
	NOP 
	BRA LEFT 
	NOP 
UP: 	 
	SUB PCR IMED 16 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF UP2 Z
	NOP
	BRA POST 
	NOP 
UP2:
	ADD PCR IMED 16 PCR
	BRA POST
	NOP
DOWN:	
	ADD PCR IMED 16 PCR 
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF DOWN2 Z
	NOP
	BRA POST 
	NOP 
DOWN2:
	SUB PCR IMED 16 PCR
	BRA POST
	NOP
LEFT:	
	SUB PCR IMED 1 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF LEFT2 Z
	NOP
	BRA POST 
	NOP
LEFT2:
	ADD PCR IMED 1 PCR
	BRA POST
	NOP
RIGHT:
	ADD PCR IMED 1 PCR
	NOP
	NOP
	NOP
	CMP CT IMED 1
	NOP
	BRF RIGHT2 Z
	NOP
	BRA POST
	NOP
RIGHT2:
	SUB PCR IMED 1 PCR
	BRA POST
	NOP
POST:
	CMP JOY IMED 0 
	NOP 
	BRF L1 Z 
	NOP 
	BRA POST 
	NOP 
